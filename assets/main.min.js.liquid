Site={mobileThreshold:601,init:function(){var e=this;$(window).resize(function(){e.onResize()}),e.Header.init(),e.BlogImages.init(),$("body").hasClass("template-product")&&e.Product.init(),e.bindMailchimpInputStyle()},onResize:function(){var e=this;$("#product-gallery").length&&e.Product.handleLayout()},fixWidows:function(){$(".js-fix-widows").each(function(){var e=$(this).html();e=e.replace(/ ([^ ]*)$/,"&nbsp;$1"),$(this).html(e)})},bindMailchimpInputStyle:function(){$(".expand input").on({focusin:function(){console.log("focus"),$(this).siblings("svg").attr("class","small-stroke")},focusout:function(){$(this).siblings("svg").attr("class","")}})}},Site.Header={init:function(){var e=this;e.bindCollectionHover(),e.bindMobileToggle()},bindCollectionHover:function(){var e=this;$("#header .nav-collection").on("mouseenter",function(){var t=$(this).attr("data-collection");e.hideTypes(),e.showTypes(t)}),$("#main-nav").on("mouseleave",function(){e.hideTypes()}),$(".nav-item").on("mouseenter",function(){e.hideTypes()})},showTypes:function(e){$('.nav-collection[data-collection="'+e+'"]').addClass("active"),$('.nav-types[data-collection="'+e+'"]').addClass("show")},hideTypes:function(e){$(".nav-collection.active").addClass("active"),$(".nav-types.show").removeClass("show")},bindMobileToggle:function(){$(".js-menu-toggle").on("click",function(){$("#mobile-nav").toggleClass("show")})}},Site.Product={minWidth:720,numberRelatedToPick:4,zoomMagnitude:1.5,init:function(){var e=this;e.$container=$("#product-container"),e.$productHeader=$("#product-header"),e.$productGallery=$("#product-gallery"),e.loadedImages=!1,e.$productGallery.length&&(e.handleLayout(),e.$productImage=$(".product-gallery-image")),$("#related-products").length&&e.pickRelated()},handleLayout:function(){var e=this;e.windowWidth=$(window).width(),e.windowWidth>=e.minWidth?(e.containerWidth=e.$container.width(),e.loadedImages?(e.sizeImageHolder(),e.getFixedHeaderDimensions(),e.toggleFixed(),e.bindZoom()):e.$productGallery.imagesLoaded(function(){e.loadedImages=!0,e.$productGallery.removeClass("min-height"),e.sizeImageHolder(),e.getFixedHeaderDimensions(),e.toggleFixed(),e.bindZoom(),e.$productHeader.hasClass("show")||e.$productHeader.addClass("show")}),$(window).on("scroll",function(){e.toggleFixed()})):(e.$productGallery.removeClass("min-height"),e.$productHeader.css("margin-right",0),$(".product-gallery-image-holder").width("auto").height("auto"),e.destroyZoom(),$(window).off("scroll"))},getFixedHeaderDimensions:function(){var e=this;e.galleryHeight=e.$productGallery.outerHeight(!0),e.galleryOffset=e.$productGallery.offset().top,e.headerHeight=e.$productHeader.outerHeight(!0)},toggleFixed:function(){var e=this,t=$(window).scrollTop();t+e.galleryOffset+e.headerHeight<=e.galleryHeight+e.galleryOffset?(e.$productHeader.removeClass("bottom"),e.$productHeader.css("margin-right",(e.windowWidth-e.containerWidth)/2+"px")):(e.$productHeader.addClass("bottom"),e.$productHeader.css("margin-right",0))},pickRelated:function(){var e=this;$(".related-products-item").pick(e.numberRelatedToPick),$("#related-products").removeClass("u-hidden")},sizeImageHolder:function(){$(".product-gallery-image-holder").each(function(){$(this).height("auto").width("auto");var e=$(this).find(".product-gallery-image"),t=e.height(),o=e.width();$(this).height(t).width(o)})},bindZoom:function(){var e=this;$(".product-gallery-image-holder").each(function(){var t=$(this).children(".zoom-container"),o=$(this).width(),i=$(this).offset(),a=$(this).attr("data-zoom"),n=o*(2*e.zoomMagnitude),d=i.left-(n-o)/2;t.css({width:n+"px",left:d+"px"}),$(this).zoom({target:t,on:"grab",url:a,onZoomIn:function(){$(this).parent(".zoom-container").addClass("show"),e.$productImage.addClass("hide")},onZoomOut:function(){$(this).parent(".zoom-container").removeClass("show"),e.$productImage.removeClass("hide")}})})},destroyZoom:function(){$(".product-gallery-image-holder").trigger("zoom.destroy")}},Site.BlogImages={init:function(){var e=this;e.$images=$(".lookbook-image"),e.$images.length&&e.$images.each(function(){var t=$(this);t.prop("complete")?e.spaceImage(this):t.bind("load",function(){e.spaceImage(this)})})},spaceImage:function(e){var t=this,o=$(e);if(e.width>e.height){var i=t.getRandomElement(["basic","mid","large"]);o.addClass("padding-left-"+i),$(e).parent().removeClass("item-m-6")}else{var i=t.getRandomElement([!1,"basic","mid","large"]);i&&o.addClass("padding-top-"+i)}o.addClass("show-image")},getRandomElement:function(e){return e[Math.floor(Math.random()*e.length)]}},jQuery(document).ready(function(){"use strict";Site.init()});