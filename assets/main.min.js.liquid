Site={mobileThreshold:601,init:function(){var e=this;$(window).resize(function(){e.onResize()}),e.Header.init(),$("body").hasClass("template-product")&&e.Product.init()},onResize:function(){var e=this;$("#product-gallery").length&&(e.Product.bindFixedHeader(),e.Product.sizeImageHolder(),e.Product.bindZoom())},fixWidows:function(){$(".js-fix-widows").each(function(){var e=$(this).html();e=e.replace(/ ([^ ]*)$/,"&nbsp;$1"),$(this).html(e)})}},Site.Header={init:function(){var e=this;e.bindCollectionHover(),e.bindMobileToggle()},bindCollectionHover:function(){var e=this;$(".nav-collection").on("mouseenter",function(){var i=$(this).attr("data-collection");e.hideTypes(),e.showTypes(i)}),$("#main-nav").on("mouseleave",function(){e.hideTypes()})},showTypes:function(e){$('.nav-collection[data-collection="'+e+'"]').addClass("active"),$('.nav-types[data-collection="'+e+'"]').addClass("show")},hideTypes:function(e){$(".nav-collection.active").addClass("active"),$(".nav-types.show").removeClass("show")},bindMobileToggle:function(){$(".js-menu-toggle").on("click",function(){$("#mobile-nav").toggleClass("show")})}},Site.Product={minWidth:720,init:function(){var e=this;e.$productHeader=$("#product-header"),e.$productGallery=$("#product-gallery"),e.$zoomContainer=$("#zoom-container"),e.$productGallery.length&&(e.bindFixedHeader(),e.bindZoom()),$("#related-products").length&&e.pickRelated()},bindFixedHeader:function(){var e=this;e.$container=$(".container"),e.windowWidth=$(window).width(),e.sizeImageHolder(),e.windowWidth>=e.minWidth?(e.getFixedHeaderDimensions(),e.$productGallery.imagesLoaded(function(){e.getFixedHeaderDimensions(),e.toggleFixed()}),$(window).on("scroll",function(){e.toggleFixed()})):(e.getFixedHeaderDimensions(),e.toggleFixed(),$(window).off("scroll"))},getFixedHeaderDimensions:function(){var e=this;e.galleryHeight=e.$productGallery.outerHeight(!0),e.galleryOffset=e.$productGallery.offset().top,e.headerHeight=e.$productHeader.outerHeight(!0)},toggleFixed:function(){var e=this,i=$(window).scrollTop(),o=e.$container.width();i+e.galleryOffset+e.headerHeight<=e.galleryHeight+e.galleryOffset?(e.$productHeader.removeClass("bottom"),e.$productHeader.css("margin-right",(e.windowWidth-o)/2+"px")):(e.$productHeader.addClass("bottom"),e.$productHeader.css("margin-right",0))},pickRelated:function(){$(".related-products-item").pick(4),$("#related-products").removeClass("u-hidden")},sizeImageHolder:function(){$(".product-gallery-image-holder").each(function(){$(this).height($(this).find("img").height()).width($(this).find("img").width())})},bindZoom:function(){var e=this;e.windowWidth=$(window).width(),e.windowWidth>=e.minWidth?$(".product-gallery-image-holder").zoom({target:e.$zoomContainer,on:"grab",onZoomIn:function(){e.$zoomContainer.addClass("show")},onZoomOut:function(){e.$zoomContainer.removeClass("show")},magnify:1.5}):$(".product-gallery-image-holder").trigger("zoom.destroy")}},jQuery(document).ready(function(){"use strict";Site.init()});