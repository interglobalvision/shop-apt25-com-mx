{"version":3,"sources":["main.js.liquid"],"names":["Site","mobileThreshold","init","_this","this","$","window","resize","onResize","Header","hasClass","Product","length","bindFixedHeader","sizeImageHolder","bindZoom","fixWidows","each","string","html","replace","bindCollectionHover","bindMobileToggle","on","collection","attr","hideTypes","showTypes","addClass","removeClass","toggleClass","minWidth","windowWidth","width","$productHeader","$productGallery","$zoomContainer","pickRelated","$container","getFixedHeaderDimensions","imagesLoaded","toggleFixed","off","galleryHeight","outerHeight","galleryOffset","offset","top","headerHeight","headerOffset","windowScroll","scrollTop","containerWidth","css","pick","height","find","zoom","target","onZoomIn","onZoomOut","magnify","trigger","jQuery","document","ready"],"mappings":"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","file":"main.min.js.liquid","sourcesContent":["/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global jQuery, $, document, Site, Modernizr */\n\nSite = {\n  mobileThreshold: 601,\n  init: function() {\n    var _this = this;\n\n    $(window).resize(function(){\n      _this.onResize();\n    });\n\n    _this.Header.init();\n\n    if ($('body').hasClass('template-product')) {\n      _this.Product.init();\n    }\n\n  },\n\n  onResize: function() {\n    var _this = this;\n\n    if ($('#product-gallery').length) {\n      _this.Product.bindFixedHeader();\n      _this.Product.sizeImageHolder();\n      _this.Product.bindZoom();\n    }\n  },\n\n  fixWidows: function() {\n    // utility class mainly for use on headines to avoid widows [single words on a new line]\n    $('.js-fix-widows').each(function(){\n      var string = $(this).html();\n      string = string.replace(/ ([^ ]*)$/,'&nbsp;$1');\n      $(this).html(string);\n    });\n  },\n\n\n};\n\nSite.Header = {\n  init: function() {\n    var _this = this;\n\n    _this.bindCollectionHover();\n\n    _this.bindMobileToggle();\n  },\n\n  bindCollectionHover: function() {\n    var _this = this;\n\n    $('.nav-collection').on('mouseenter', function() {\n      var collection = $(this).attr('data-collection');\n\n      _this.hideTypes();\n      _this.showTypes(collection);\n    });\n\n    $('#main-nav').on('mouseleave', function() {\n\n      _this.hideTypes();\n    });\n  },\n\n  showTypes: function(collection) {\n    $('.nav-collection[data-collection=\"' + collection + '\"]').addClass('active');\n    $('.nav-types[data-collection=\"' + collection + '\"]').addClass('show');\n  },\n\n  hideTypes: function(collection) {\n    $('.nav-collection.active').addClass('active');\n    $('.nav-types.show').removeClass('show');\n  },\n\n  bindMobileToggle: function() {\n    $('.js-menu-toggle').on('click', function() {\n      $('#mobile-nav').toggleClass('show');\n    });\n  },\n};\n\nSite.Product = {\n  minWidth: 720,\n  init: function() {\n    var _this = this;\n\n    _this.windowWidth = $(window).width();\n\n    _this.$productHeader = $('#product-header');\n    _this.$productGallery = $('#product-gallery');\n\n    _this.$zoomContainer = $('#zoom-container');\n\n    if (_this.$productGallery.length) {\n      _this.bindFixedHeader();\n      _this.bindZoom();\n    }\n\n    if ($('#related-products').length) {\n      _this.pickRelated();\n    }\n  },\n\n  bindFixedHeader: function() {\n    var _this = this;\n\n    _this.$container = $('.container');\n\n    _this.sizeImageHolder();\n\n    if (_this.windowWidth >= _this.minWidth) {\n      _this.getFixedHeaderDimensions();\n\n      _this.$productGallery.imagesLoaded( function() {\n        _this.getFixedHeaderDimensions();\n        _this.toggleFixed();\n      });\n\n      $(window).on('scroll', function() {\n        _this.toggleFixed();\n      });\n    } else {\n      $(window).off('scroll');\n    }\n  },\n\n  getFixedHeaderDimensions: function() {\n    var _this = this;\n\n    _this.galleryHeight = _this.$productGallery.outerHeight(true);\n    _this.galleryOffset = _this.$productGallery.offset().top;\n    _this.headerHeight = _this.$productHeader.outerHeight(true);\n    _this.headerOffset = _this.$productHeader.offset().top;\n  },\n\n  toggleFixed: function() {\n    var _this = this;\n\n    var windowScroll = $(window).scrollTop();\n\n    var containerWidth = _this.$container.width();\n\n    if ((windowScroll + _this.galleryOffset + _this.headerHeight) <= (_this.galleryHeight + _this.galleryOffset)) {\n      _this.$productHeader.removeClass('bottom');\n      _this.$productHeader.css('margin-right', ((_this.windowWidth - containerWidth) / 2) + 'px');\n    } else {\n      _this.$productHeader.addClass('bottom');\n      _this.$productHeader.css('margin-right', 0);\n    }\n  },\n\n  pickRelated: function() {\n    $('.related-products-item').pick(4);\n\n    $('#related-products').removeClass('u-hidden');\n  },\n\n  sizeImageHolder: function() {\n    $('.product-gallery-image-holder').each(function() {\n      $(this).height($(this).find('img').height()).width($(this).find('img').width());\n    });\n  },\n\n  bindZoom: function() {\n    var _this = this;\n    \n    if (_this.windowWidth >= _this.minWidth) {\n      $('.product-gallery-image-holder').zoom({\n        target: _this.$zoomContainer,\n        on: 'grab',\n        onZoomIn: function() {\n          _this.$zoomContainer.addClass('show');\n        },\n        onZoomOut: function() {\n          _this.$zoomContainer.removeClass('show');\n        },\n        magnify: 1.5,\n      });\n    } else {\n      $('.product-gallery-image-holder').trigger('zoom.destroy');\n    }\n  },\n}\n\njQuery(document).ready(function () {\n  'use strict';\n\n  Site.init();\n\n});\n"]}